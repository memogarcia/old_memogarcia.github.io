<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Memo Garcia</title>
    <description></description>
    <link>http://memogarcia.me/</link>
    <atom:link href="http://memogarcia.me/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Thu, 11 Jun 2015 14:34:08 +0100</pubDate>
    <lastBuildDate>Thu, 11 Jun 2015 14:34:08 +0100</lastBuildDate>
    <generator>Jekyll v2.5.3</generator>
    
      <item>
        <title>Jquery show and hide items</title>
        <description>&lt;p&gt;Hide and show items according to dropdown selection&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;select&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;action&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;option&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;backup&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Backup&lt;span class=&quot;nt&quot;&gt;&amp;lt;/option&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;nt&quot;&gt;&amp;lt;option&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;restore&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;Restore&lt;span class=&quot;nt&quot;&gt;&amp;lt;/option&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/select&amp;gt;&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;text&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;backup_input&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;backup_input&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;backup&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;input&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;text&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;restore_input&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;name=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;restore_input&amp;quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;value=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;restore&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;/&amp;gt;&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;http://code.jquery.com/jquery-1.11.3.min.js&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;

&lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;text/javascript&amp;quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&lt;/span&gt;

&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ready&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
	&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;#action&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;change&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;#action&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;backup&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;#restore_input&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hide&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
		&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
		&lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
			&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;#restore_input&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
		&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
	&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;

	&lt;span class=&quot;nx&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;#action&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;change&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/script&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</description>
        <pubDate>Thu, 11 Jun 2015 16:23:00 +0100</pubDate>
        <link>http://memogarcia.me/js/jquery/2015/06/11/jquery-hide-items.html</link>
        <guid isPermaLink="true">http://memogarcia.me/js/jquery/2015/06/11/jquery-hide-items.html</guid>
        
        
        <category>js</category>
        
        <category>jquery</category>
        
      </item>
    
      <item>
        <title>Dead dove inside</title>
        <description>&lt;p&gt;&lt;img src=&quot;/images/expected.jpg&quot; alt=&quot;Dead dove&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Wed, 10 Jun 2015 17:00:00 +0100</pubDate>
        <link>http://memogarcia.me/funny/2015/06/10/dead-dove.html</link>
        <guid isPermaLink="true">http://memogarcia.me/funny/2015/06/10/dead-dove.html</guid>
        
        
        <category>funny</category>
        
      </item>
    
      <item>
        <title>Geolocation in the browser with javascript</title>
        <description>&lt;p&gt;Get your current location&lt;/p&gt;

&lt;p&gt;using &lt;a href=&quot;http://ricostacruz.com/nprogress/&quot;&gt;NProgress.js&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;findMe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&amp;quot;use strict&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;NProgress&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;navigator&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;geolocation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;geolocation not available&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;latitude&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;coords&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;latitude&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;longitude&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;coords&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;longitude&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;google&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;maps&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;event&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addDomListener&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;s1&quot;&gt;&amp;#39;load&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;initialize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;latitude&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;longitude&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;Unable to retrieve your location&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;timeout&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;60000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;navigator&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;geolocation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getCurrentPosition&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</description>
        <pubDate>Wed, 10 Jun 2015 11:00:00 +0100</pubDate>
        <link>http://memogarcia.me/geolocation/js/2015/06/10/geo-js.html</link>
        <guid isPermaLink="true">http://memogarcia.me/geolocation/js/2015/06/10/geo-js.html</guid>
        
        
        <category>geolocation</category>
        
        <category>js</category>
        
      </item>
    
      <item>
        <title>Google maps</title>
        <description>&lt;p&gt;Insert a map in your website&lt;/p&gt;

&lt;p&gt;using &lt;a href=&quot;http://ricostacruz.com/nprogress/&quot;&gt;NProgress.js&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;initialize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;latitude&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;longitude&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;

    &lt;span class=&quot;s2&quot;&gt;&amp;quot;use strict&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;map_canvas&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getElementById&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;map_canvas&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;map_options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;center&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;google&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;maps&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;LatLng&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;latitude&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;longitude&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;zoom&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;mapTypeId&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;google&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;maps&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;MapTypeId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ROADMAP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;disableDefaultUI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;latlng&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;google&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;maps&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;LatLng&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;latitude&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;longitude&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;google&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;maps&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map_canvas&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;map_options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

    &lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;styles&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]);&lt;/span&gt;

    &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;marker&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;google&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;maps&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Marker&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;position&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;latlng&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;
    
    &lt;span class=&quot;nx&quot;&gt;NProgress&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</description>
        <pubDate>Wed, 10 Jun 2015 10:00:00 +0100</pubDate>
        <link>http://memogarcia.me/maps/js/2015/06/10/maps-js.html</link>
        <guid isPermaLink="true">http://memogarcia.me/maps/js/2015/06/10/maps-js.html</guid>
        
        
        <category>maps</category>
        
        <category>js</category>
        
      </item>
    
      <item>
        <title>SSH</title>
        <description>&lt;h2 id=&quot;ssh-scp&quot;&gt;SSH SCP&lt;/h2&gt;

&lt;h1 id=&quot;secure-file-transfer-sft&quot;&gt;Secure file transfer (SFT)&lt;/h1&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;scp file.txt host-two:/tmp
scp joe@host-two:/www/*.html /www/tmp
scp -r joe@host-two:/www /www/tmp&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1 id=&quot;tunneling&quot;&gt;Tunneling&lt;/h1&gt;

&lt;p&gt;SSH tunneling allows to forward or reverse forward a port over the SSH connection, thus securing the traffic and accessing ports which would otherwise be blocked. This only works with TCP. The general nomenclature for forward and reverse is:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;ssh -L localport:desthost:destport user@gate  &lt;span class=&quot;c&quot;&gt;# desthost as seen from the gate&lt;/span&gt;
ssh -R destport:desthost:localport user@gate  &lt;span class=&quot;c&quot;&gt;# forwards your localport to destination&lt;/span&gt;
    &lt;span class=&quot;c&quot;&gt;# desthost:localport as seen from the client initiating the tunnel&lt;/span&gt;
ssh -X user@gate   &lt;span class=&quot;c&quot;&gt;# To force X forwarding&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This will connect to gate and forward the local port to the host desthost:destport. Note desthost is the destination host as seen by the gate, so if the connection is to the gate, then desthost is localhost. More than one port forward is possible.
Direct forward on the gate&lt;/p&gt;

&lt;p&gt;Let say we want to access the CVS (port 2401) and http (port 80) which are running on the gate. This is the simplest example, desthost is thus localhost, and we use the port 8080 locally instead of 80 so we don’t need to be root. Once the ssh session is open, both services are accessible on the local ports.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;ssh -L 2401:localhost:2401 -L 8080:localhost:80 user@gate&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

</description>
        <pubDate>Tue, 09 Jun 2015 22:00:00 +0100</pubDate>
        <link>http://memogarcia.me/linux/ssh/2015/06/09/ssh.html</link>
        <guid isPermaLink="true">http://memogarcia.me/linux/ssh/2015/06/09/ssh.html</guid>
        
        
        <category>linux</category>
        
        <category>ssh</category>
        
      </item>
    
      <item>
        <title>Linux commands</title>
        <description>&lt;h1 id=&quot;kernel-and-system-information&quot;&gt;Kernel and system information&lt;/h1&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;uname -a                           &lt;span class=&quot;c&quot;&gt;# Get the kernel version (and BSD version)&lt;/span&gt;
uptime                             &lt;span class=&quot;c&quot;&gt;# Show how long the system has been running + load&lt;/span&gt;
hostname                           &lt;span class=&quot;c&quot;&gt;# system&amp;#39;s host name&lt;/span&gt;
man hier                           &lt;span class=&quot;c&quot;&gt;# Description of the file system hierarchy&lt;/span&gt;
last reboot                        &lt;span class=&quot;c&quot;&gt;# Show system reboot history&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1 id=&quot;hardware-information&quot;&gt;Hardware information&lt;/h1&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;dmesg                              &lt;span class=&quot;c&quot;&gt;# Detected hardware and boot messages&lt;/span&gt;
lsdev                              &lt;span class=&quot;c&quot;&gt;# information about installed hardware&lt;/span&gt;
cat /proc/cpuinfo                  &lt;span class=&quot;c&quot;&gt;# CPU model&lt;/span&gt;
cat /proc/meminfo                  &lt;span class=&quot;c&quot;&gt;# Hardware memory&lt;/span&gt;
grep MemTotal /proc/meminfo        &lt;span class=&quot;c&quot;&gt;# Display the physical memory&lt;/span&gt;
watch -n1 &lt;span class=&quot;s1&quot;&gt;&amp;#39;cat /proc/interrupts&amp;#39;&lt;/span&gt;   &lt;span class=&quot;c&quot;&gt;# Watch changeable interrupts continuously&lt;/span&gt;
free -m                            &lt;span class=&quot;c&quot;&gt;# Used and free memory (-m for MB)&lt;/span&gt;
cat /proc/devices                  &lt;span class=&quot;c&quot;&gt;# Configured devices&lt;/span&gt;
lspci -tv                          &lt;span class=&quot;c&quot;&gt;# Show PCI devices&lt;/span&gt;
lsusb -tv                          &lt;span class=&quot;c&quot;&gt;# Show USB devices&lt;/span&gt;
lshal                              &lt;span class=&quot;c&quot;&gt;# Show a list of all devices with their properties&lt;/span&gt;
dmidecode                          &lt;span class=&quot;c&quot;&gt;# Show DMI/SMBIOS: hw info from the BIOS&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1 id=&quot;load-statistics-and-messages&quot;&gt;Load, statistics and messages&lt;/h1&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;top                                &lt;span class=&quot;c&quot;&gt;# display and update the top cpu processes&lt;/span&gt;
mpstat &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;                           &lt;span class=&quot;c&quot;&gt;# display processors related statistics&lt;/span&gt;
vmstat &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;                           &lt;span class=&quot;c&quot;&gt;# display virtual memory statistics&lt;/span&gt;
iostat &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;                           &lt;span class=&quot;c&quot;&gt;# display I/O statistics (2 s intervals)&lt;/span&gt;
systat -vmstat &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;                   &lt;span class=&quot;c&quot;&gt;# BSD summary of system statistics (1 s intervals)&lt;/span&gt;
systat -tcp &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;                      &lt;span class=&quot;c&quot;&gt;# BSD tcp connections (try also -ip)&lt;/span&gt;
systat -netstat &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;                  &lt;span class=&quot;c&quot;&gt;# BSD active network connections&lt;/span&gt;
systat -ifstat &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;                   &lt;span class=&quot;c&quot;&gt;# BSD network traffic through active interfaces&lt;/span&gt;
systat -iostat &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;                   &lt;span class=&quot;c&quot;&gt;# BSD CPU and and disk throughput&lt;/span&gt;
ipcs -a                            &lt;span class=&quot;c&quot;&gt;# information on System V interprocess&lt;/span&gt;
tail -n &lt;span class=&quot;m&quot;&gt;500&lt;/span&gt; /var/log/messages      &lt;span class=&quot;c&quot;&gt;# Last 500 kernel/syslog messages&lt;/span&gt;
tail /var/log/warn                 &lt;span class=&quot;c&quot;&gt;# System warnings messages see syslog.conf&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1 id=&quot;users&quot;&gt;Users&lt;/h1&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;id                                 &lt;span class=&quot;c&quot;&gt;# Show the active user id with login and group&lt;/span&gt;
last                               &lt;span class=&quot;c&quot;&gt;# Show last logins on the system&lt;/span&gt;
who                                &lt;span class=&quot;c&quot;&gt;# Show who is logged on the system&lt;/span&gt;
groupadd admin                     &lt;span class=&quot;c&quot;&gt;# Add group &amp;quot;admin&amp;quot; and user colin (Linux/Solaris)&lt;/span&gt;
useradd -c &lt;span class=&quot;s2&quot;&gt;&amp;quot;Memo Garcia&amp;quot;&lt;/span&gt; -g admin -m memo
usermod -a -G &amp;lt;group&amp;gt; &amp;lt;user&amp;gt;       &lt;span class=&quot;c&quot;&gt;# Add existing user to group (Debian)&lt;/span&gt;
groupmod -A &amp;lt;user&amp;gt; &amp;lt;group&amp;gt;         &lt;span class=&quot;c&quot;&gt;# Add existing user to group (SuSE)&lt;/span&gt;
userdel memo                       &lt;span class=&quot;c&quot;&gt;# Delete user colin (Linux/Solaris)&lt;/span&gt;
adduser memo                       &lt;span class=&quot;c&quot;&gt;# FreeBSD add user joe (interactive)&lt;/span&gt;
rmuser memo                        &lt;span class=&quot;c&quot;&gt;# FreeBSD delete user joe (interactive)&lt;/span&gt;
pw groupadd admin                  &lt;span class=&quot;c&quot;&gt;# Use pw on FreeBSD&lt;/span&gt;
pw groupmod admin -m newmember     &lt;span class=&quot;c&quot;&gt;# Add a new member to a group&lt;/span&gt;
pw useradd memo -c &lt;span class=&quot;s2&quot;&gt;&amp;quot;Memo Garcia&amp;quot;&lt;/span&gt; -g admin -m -s /bin/tcsh
pw userdel memo&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; pw groupdel admin

&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;Sorry no login now&amp;quot;&lt;/span&gt; &amp;gt; /etc/nologin  &lt;span class=&quot;c&quot;&gt;# prevent logins in the system but root&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Encrypted passwords are stored in /etc/shadow for Linux. &lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# If the master.passwd is modified manually (say to delete a password),&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# to rebuild the database run::&lt;/span&gt;
pwd_mkdb -p master.passwd&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1 id=&quot;limits&quot;&gt;Limits&lt;/h1&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;ulimit&lt;/span&gt; -n &lt;span class=&quot;m&quot;&gt;10240&lt;/span&gt;                    &lt;span class=&quot;c&quot;&gt;# This is only valid within the shell&lt;/span&gt;

cat /etc/security/limits.conf
*   hard    nproc   &lt;span class=&quot;m&quot;&gt;250&lt;/span&gt;              &lt;span class=&quot;c&quot;&gt;# Limit user processes&lt;/span&gt;
asterisk hard nofile &lt;span class=&quot;m&quot;&gt;409600&lt;/span&gt;          &lt;span class=&quot;c&quot;&gt;# Limit application open files&lt;/span&gt;

sysctl -a                          &lt;span class=&quot;c&quot;&gt;# View all system limits&lt;/span&gt;
sysctl fs.file-max                 &lt;span class=&quot;c&quot;&gt;# View max open files limit&lt;/span&gt;
sysctl fs.file-max&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;102400&lt;/span&gt;          &lt;span class=&quot;c&quot;&gt;# Change max open files limit&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;1024 50000&amp;quot;&lt;/span&gt; &amp;gt; /proc/sys/net/ipv4/ip_local_port_range  &lt;span class=&quot;c&quot;&gt;# port range&lt;/span&gt;
cat /etc/sysctl.conf
fs.file-max&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;102400&lt;/span&gt;                   &lt;span class=&quot;c&quot;&gt;# Permanent entry in sysctl.conf&lt;/span&gt;
cat /proc/sys/fs/file-nr           &lt;span class=&quot;c&quot;&gt;# How many file descriptors are in use&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1 id=&quot;reset-root-password&quot;&gt;Reset root password&lt;/h1&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;c&quot;&gt;# At the boot loader (lilo or grub), enter the following boot option:&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;init&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/bin/sh

&lt;span class=&quot;c&quot;&gt;# The kernel will mount the root partition and init will start the &lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# bourne shell instead of rc and then a runlevel. Use the command &lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# passwd at the prompt to change the password and then reboot. &lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# Forget the single user mode as you need the password for that.&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# If, after booting, the root partition is mounted read only, remount it rw:&lt;/span&gt;

mount -o remount,rw /
passwd                             &lt;span class=&quot;c&quot;&gt;# or delete the root password (/etc/shadow)&lt;/span&gt;
sync&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; mount -o remount,ro /        &lt;span class=&quot;c&quot;&gt;# sync before to remount read only&lt;/span&gt;
reboot&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1 id=&quot;kernel-modules&quot;&gt;Kernel modules&lt;/h1&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;lsmod                              &lt;span class=&quot;c&quot;&gt;# List all modules loaded in the kernel&lt;/span&gt;
modprobe isdn                      &lt;span class=&quot;c&quot;&gt;# To load a module (here isdn)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1 id=&quot;compile-kernel&quot;&gt;Compile kernel&lt;/h1&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /usr/src/linux
make mrproper                      &lt;span class=&quot;c&quot;&gt;# Clean everything, including config files&lt;/span&gt;
make oldconfig                     &lt;span class=&quot;c&quot;&gt;# Reuse the old .config if existent&lt;/span&gt;
make menuconfig                    &lt;span class=&quot;c&quot;&gt;# or xconfig (Qt) or gconfig (GTK)&lt;/span&gt;
make                               &lt;span class=&quot;c&quot;&gt;# Create a compressed kernel image&lt;/span&gt;
make modules                       &lt;span class=&quot;c&quot;&gt;# Compile the modules&lt;/span&gt;
make modules_install               &lt;span class=&quot;c&quot;&gt;# Install the modules&lt;/span&gt;
make install                       &lt;span class=&quot;c&quot;&gt;# Install the kernel&lt;/span&gt;
reboot&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1 id=&quot;repair-grub&quot;&gt;Repair grub&lt;/h1&gt;

&lt;p&gt;So you broke grub? Boot from a live cd, [find your linux partition under /dev and use fdisk to find the linux partion] mount the linux partition, add /proc and /dev and use grub-install /dev/xyz. Suppose linux lies on /dev/sda6:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;mount /dev/sda6 /mnt               &lt;span class=&quot;c&quot;&gt;# mount the linux partition on /mnt&lt;/span&gt;
mount --bind /proc /mnt/proc       &lt;span class=&quot;c&quot;&gt;# mount the proc subsystem into /mnt&lt;/span&gt;
mount --bind /dev /mnt/dev         &lt;span class=&quot;c&quot;&gt;# mount the devices into /mnt&lt;/span&gt;
chroot /mnt                        &lt;span class=&quot;c&quot;&gt;# change root to the linux partition&lt;/span&gt;
grub-install /dev/sda              &lt;span class=&quot;c&quot;&gt;# reinstall grub with your old settings&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1 id=&quot;misc-mac&quot;&gt;Misc Mac&lt;/h1&gt;

&lt;p&gt;Disable OSX virtual memory (repeat with load to re-enable). Faster system, but a little risky.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;sudo launchctl unload -w /System/Library/LaunchDaemons/com.apple.dynamic_pager.plist
sleep 3600&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; pmset sleepnow           &lt;span class=&quot;c&quot;&gt;# go to standby in one hour (OSX)&lt;/span&gt;
defaults write -g com.apple.mouse.scaling -float 8
                                     &lt;span class=&quot;c&quot;&gt;# OSX mouse acceleration (use -1 to reverse)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1 id=&quot;processes&quot;&gt;Processes&lt;/h1&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;ps -auxefw                         &lt;span class=&quot;c&quot;&gt;# Extensive list of all running process&lt;/span&gt;
ps axww &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; grep cron
  &lt;span class=&quot;m&quot;&gt;586&lt;/span&gt;  ??  Is     0:01.48 /usr/sbin/cron -s
ps axjf                            &lt;span class=&quot;c&quot;&gt;# All processes in a tree format (Linux)&lt;/span&gt;
ps aux &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; grep &lt;span class=&quot;s1&quot;&gt;&amp;#39;ss[h]&amp;#39;&lt;/span&gt;              &lt;span class=&quot;c&quot;&gt;# Find all ssh pids without the grep pid&lt;/span&gt;
pgrep -l sshd                      &lt;span class=&quot;c&quot;&gt;# Find the PIDs of processes by (part of) name&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$$&lt;/span&gt;                            &lt;span class=&quot;c&quot;&gt;# The PID of your shell&lt;/span&gt;
fuser -va 22/tcp                   &lt;span class=&quot;c&quot;&gt;# List processes using port 22 (Linux)&lt;/span&gt;
pmap PID                           &lt;span class=&quot;c&quot;&gt;# Memory map of process (hunt memory leaks) (Linux)&lt;/span&gt;
fuser -va /home                    &lt;span class=&quot;c&quot;&gt;# List processes accessing the /home partition&lt;/span&gt;
strace df                          &lt;span class=&quot;c&quot;&gt;# Trace system calls and signals&lt;/span&gt;
truss df                           &lt;span class=&quot;c&quot;&gt;# same as above on FreeBSD/Solaris/Unixware&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1 id=&quot;priority&quot;&gt;Priority&lt;/h1&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;renice -5 &lt;span class=&quot;m&quot;&gt;586&lt;/span&gt;                      &lt;span class=&quot;c&quot;&gt;# Stronger priority&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# nice changes the CPU scheduler&lt;/span&gt;
nice -n -5 top                     &lt;span class=&quot;c&quot;&gt;# Stronger priority (/usr/bin/nice)&lt;/span&gt;
nice -n &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt; top                      &lt;span class=&quot;c&quot;&gt;# Weaker priority (/usr/bin/nice)&lt;/span&gt;
nice +5 top                        &lt;span class=&quot;c&quot;&gt;# tcsh builtin nice (same as above!)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# ionice changes the IO scheduler&lt;/span&gt;
ionice c3 -p123                    &lt;span class=&quot;c&quot;&gt;# set idle class for pid 123 (Linux only)&lt;/span&gt;
ionice -c2 -n0 firefox             &lt;span class=&quot;c&quot;&gt;# Run firefox with best effort and high priority&lt;/span&gt;
ionice -c3 -p&lt;span class=&quot;nv&quot;&gt;$$&lt;/span&gt;                    &lt;span class=&quot;c&quot;&gt;# Set the actual shell to idle priority&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1 id=&quot;background-and-foreground&quot;&gt;Background and foreground&lt;/h1&gt;

&lt;p&gt;When started from a shell, processes can be brought in the background and back to the foreground with [Ctrl]-[Z] (^Z), bg and fg. List the processes with jobs. When needed detach from the terminal with disown.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;ping cb.vu &amp;gt; ping.log
^Z                                   &lt;span class=&quot;c&quot;&gt;# ping is suspended (stopped) with [Ctrl]-[Z]&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;bg&lt;/span&gt;                                 &lt;span class=&quot;c&quot;&gt;# put in background and continues running&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;jobs&lt;/span&gt; -l                            &lt;span class=&quot;c&quot;&gt;# List processes in background&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;1&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;  - &lt;span class=&quot;m&quot;&gt;36232&lt;/span&gt; Running                       ping cb.vu &amp;gt; ping.log
    &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;2&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;  + &lt;span class=&quot;m&quot;&gt;36233&lt;/span&gt; Suspended &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;tty output&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;        top
&lt;span class=&quot;nb&quot;&gt;fg&lt;/span&gt; %2                              &lt;span class=&quot;c&quot;&gt;# Bring process 2 back in foreground&lt;/span&gt;

make                               &lt;span class=&quot;c&quot;&gt;# start a long compile job but need to leave the terminal&lt;/span&gt;
^Z                                   &lt;span class=&quot;c&quot;&gt;# suspended (stopped) with [Ctrl]-[Z]&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;bg&lt;/span&gt;                                 &lt;span class=&quot;c&quot;&gt;# put in background and continues running&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;disown&lt;/span&gt; -h %1                       &lt;span class=&quot;c&quot;&gt;# detatch process from terminal, won&amp;#39;t be killed at logout&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1 id=&quot;top&quot;&gt;Top&lt;/h1&gt;

&lt;p&gt;The program top displays running information of processes. See also the program htop from htop.sourceforge.net (a more powerful version of top) which runs on Linux.
While top is running press the key h for a help overview. Useful keys are:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;u &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;user name&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; To display only the processes belonging to the user. Use + or blank to see all users
k &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;pid&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; Kill the process with pid.
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; To display all processors statistics &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Linux only&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
R Toggle normal/reverse sort.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1 id=&quot;signalskill&quot;&gt;Signals/Kill&lt;/h1&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;ping -i &lt;span class=&quot;m&quot;&gt;60&lt;/span&gt; cb.vu &amp;gt; ping.log &lt;span class=&quot;p&quot;&gt;&amp;amp;&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;1&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; 4712
&lt;span class=&quot;nb&quot;&gt;kill&lt;/span&gt; -s TERM &lt;span class=&quot;m&quot;&gt;4712&lt;/span&gt;                  &lt;span class=&quot;c&quot;&gt;# same as kill -15 4712&lt;/span&gt;
killall -1 httpd                   &lt;span class=&quot;c&quot;&gt;# Kill HUP processes by exact name&lt;/span&gt;
pkill -9 http                      &lt;span class=&quot;c&quot;&gt;# Kill TERM processes by (part of) name&lt;/span&gt;
pkill -TERM -u www                 &lt;span class=&quot;c&quot;&gt;# Kill TERM processes owned by www&lt;/span&gt;
fuser -k -TERM -m /home            &lt;span class=&quot;c&quot;&gt;# Kill every process accessing /home (to umount)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# Important signals are:&lt;/span&gt;
    &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;       HUP &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;hang up&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;       INT &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;interrupt&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;       QUIT &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;quit&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;m&quot;&gt;9&lt;/span&gt;       KILL &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;non-catchable, non-ignorable &lt;span class=&quot;nb&quot;&gt;kill&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;m&quot;&gt;15&lt;/span&gt;     TERM &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;software termination signal&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id=&quot;file-system&quot;&gt;File system&lt;/h2&gt;

&lt;h1 id=&quot;permissions&quot;&gt;Permissions&lt;/h1&gt;

&lt;p&gt;Change permission and ownership with chmod and chown. The default umask can be changed for all users in /etc/profile for Linux. The default umask is usually 022. The umask is subtracted from 777, thus umask 022 results in a permission 0f 755.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; --x execute                        &lt;span class=&quot;c&quot;&gt;# Mode 764 = exec/read/write | read/write | read&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt; -w- write                          &lt;span class=&quot;c&quot;&gt;# For:       |--  Owner  --|   |- Group-|   |Oth|&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt; r-- &lt;span class=&quot;nb&quot;&gt;read&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;  &lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;ugo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;a                              &lt;span class=&quot;nv&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;user, &lt;span class=&quot;nv&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;group, &lt;span class=&quot;nv&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;others, &lt;span class=&quot;nv&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;everyone
  
chmod &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;OPTION&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; MODE&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;,MODE&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt; FILE    &lt;span class=&quot;c&quot;&gt;# MODE is of the form [ugoa]*([-+=]([rwxXst]))&lt;/span&gt;
chmod &lt;span class=&quot;m&quot;&gt;640&lt;/span&gt; /var/log/maillog         &lt;span class=&quot;c&quot;&gt;# Restrict the log -rw-r-----&lt;/span&gt;
chmod &lt;span class=&quot;nv&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;rw,g&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;r,o&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; /var/log/maillog &lt;span class=&quot;c&quot;&gt;# Same as above&lt;/span&gt;
chmod -R o-r /home/*               &lt;span class=&quot;c&quot;&gt;# Recursive remove other readable for all users&lt;/span&gt;
chmod u+s /path/to/prog            &lt;span class=&quot;c&quot;&gt;# Set SUID bit on executable (know what you do!)&lt;/span&gt;
find / -perm -u+s -print           &lt;span class=&quot;c&quot;&gt;# Find all programs with the SUID bit&lt;/span&gt;
chown user:group /path/to/file     &lt;span class=&quot;c&quot;&gt;# Change the user and group ownership of a file&lt;/span&gt;
chgrp group /path/to/file          &lt;span class=&quot;c&quot;&gt;# Change the group ownership of a file&lt;/span&gt;
chmod &lt;span class=&quot;m&quot;&gt;640&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;find ./ -type f -print&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# Change permissions to 640 for all files&lt;/span&gt;
chmod &lt;span class=&quot;m&quot;&gt;751&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;find ./ -type d -print&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# Change permissions to 751 for all directories&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1 id=&quot;disk-information&quot;&gt;Disk information&lt;/h1&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;hdparm -I /dev/sda                 &lt;span class=&quot;c&quot;&gt;# information about the IDE/ATA disk (Linux)&lt;/span&gt;
fdisk /dev/ad2                     &lt;span class=&quot;c&quot;&gt;# Display and manipulate the partition table&lt;/span&gt;
smartctl -a /dev/ad2               &lt;span class=&quot;c&quot;&gt;# Display the disk SMART info&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2 id=&quot;system-mount-pointsdisk-usage&quot;&gt;System mount points/Disk usage&lt;/h2&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;mount &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; column -t                  &lt;span class=&quot;c&quot;&gt;# Show mounted file-systems on the system&lt;/span&gt;
df                                 &lt;span class=&quot;c&quot;&gt;# display free disk space and mounted devices&lt;/span&gt;
cat /proc/partitions               &lt;span class=&quot;c&quot;&gt;# Show all registered partitions (Linux)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1 id=&quot;disk-usage&quot;&gt;Disk usage&lt;/h1&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;du -sh *                           &lt;span class=&quot;c&quot;&gt;# Directory sizes as listing&lt;/span&gt;
du -csh                            &lt;span class=&quot;c&quot;&gt;# Total directory size of the current directory&lt;/span&gt;
du -ks * &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; sort -n -r              &lt;span class=&quot;c&quot;&gt;# Sort everything by size in kilobytes&lt;/span&gt;
ls -lSr                            &lt;span class=&quot;c&quot;&gt;# Show files, biggest last&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1 id=&quot;who-has-which-files-opened&quot;&gt;Who has which files opened&lt;/h1&gt;

&lt;p&gt;This is useful to find out which file is blocking a partition which has to be unmounted and gives a typical error of:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;umount /home/
umount: unmount of /home             &lt;span class=&quot;c&quot;&gt;# umount impossible because a file is locking home&lt;/span&gt;
   failed: Device busy


fuser -m /home                     &lt;span class=&quot;c&quot;&gt;# List processes accessing /home&lt;/span&gt;
lsof /home

COMMAND   PID    USER   FD   TYPE DEVICE    SIZE     NODE NAME
tcsh    &lt;span class=&quot;m&quot;&gt;29029&lt;/span&gt; memo    cwd    DIR   0,18   &lt;span class=&quot;m&quot;&gt;12288&lt;/span&gt;  &lt;span class=&quot;m&quot;&gt;1048587&lt;/span&gt; /home/memo &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;guam:/home&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
lsof    &lt;span class=&quot;m&quot;&gt;29140&lt;/span&gt; memo    cwd    DIR   0,18   &lt;span class=&quot;m&quot;&gt;12288&lt;/span&gt;  &lt;span class=&quot;m&quot;&gt;1048587&lt;/span&gt; /home/memo &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;guam:/home&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1 id=&quot;mountremount-a-file-system&quot;&gt;Mount/remount a file system&lt;/h1&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;mount -t auto /dev/cdrom /mnt/cdrom   &lt;span class=&quot;c&quot;&gt;# typical cdrom mount command&lt;/span&gt;
mount /dev/hdc -t iso9660 -r /cdrom   &lt;span class=&quot;c&quot;&gt;# typical IDE&lt;/span&gt;
mount /dev/scd0 -t iso9660 -r /cdrom  &lt;span class=&quot;c&quot;&gt;# typical SCSI cdrom&lt;/span&gt;
mount /dev/sdc0 -t ntfs-3g /windows   &lt;span class=&quot;c&quot;&gt;# typical SCSI&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1 id=&quot;remount&quot;&gt;remount&lt;/h1&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;mount -o remount,ro /              &lt;span class=&quot;c&quot;&gt;# Linux&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1 id=&quot;virtualbox&quot;&gt;virtualbox&lt;/h1&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;VBoxManage 

&lt;span class=&quot;c&quot;&gt;# allow share on the host&lt;/span&gt;
VBoxManage sharedfolder add &lt;span class=&quot;s2&quot;&gt;&amp;quot;GuestName&amp;quot;&lt;/span&gt; --name &lt;span class=&quot;s2&quot;&gt;&amp;quot;share&amp;quot;&lt;/span&gt; --hostpath &lt;span class=&quot;s2&quot;&gt;&amp;quot;C:\hostshare&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1 id=&quot;add-swap-on-the-fly&quot;&gt;Add swap on the fly&lt;/h1&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;dd &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/dev/zero &lt;span class=&quot;nv&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/swap2gb &lt;span class=&quot;nv&quot;&gt;bs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1024k &lt;span class=&quot;nv&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;2000
mkswap /swap2gb                    &lt;span class=&quot;c&quot;&gt;# create the swap area&lt;/span&gt;
swapon /swap2gb                    &lt;span class=&quot;c&quot;&gt;# activate the swap. It now in use&lt;/span&gt;
swapoff /swap2gb                   &lt;span class=&quot;c&quot;&gt;# when done deactivate the swap&lt;/span&gt;
rm /swap2gb&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1 id=&quot;mount-an-image&quot;&gt;Mount an image&lt;/h1&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;hdiutil mount image.iso                               &lt;span class=&quot;c&quot;&gt;# OS X&lt;/span&gt;
mount -t iso9660 -o loop file.iso /mnt                &lt;span class=&quot;c&quot;&gt;# Mount a CD image&lt;/span&gt;
mount -t ext3 -o loop file.img /mnt                   &lt;span class=&quot;c&quot;&gt;# Mount an image with ext3 fs&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1 id=&quot;disk-perfomance&quot;&gt;Disk perfomance&lt;/h1&gt;

&lt;p&gt;Read and write a 1 GB file on partition ad4s3c (/home)&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;time &lt;/span&gt;dd &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/dev/ad4s3c &lt;span class=&quot;nv&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/dev/null &lt;span class=&quot;nv&quot;&gt;bs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1024k &lt;span class=&quot;nv&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1000
&lt;span class=&quot;nb&quot;&gt;time &lt;/span&gt;dd &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/dev/zero &lt;span class=&quot;nv&quot;&gt;bs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;1024k &lt;span class=&quot;nv&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;/home/1Gb.file
hdparm -tT /dev/hda      &lt;span class=&quot;c&quot;&gt;# Linux only&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

</description>
        <pubDate>Tue, 09 Jun 2015 20:23:00 +0100</pubDate>
        <link>http://memogarcia.me/linux/shell/2015/06/09/linux-commands.html</link>
        <guid isPermaLink="true">http://memogarcia.me/linux/shell/2015/06/09/linux-commands.html</guid>
        
        
        <category>linux</category>
        
        <category>shell</category>
        
      </item>
    
      <item>
        <title>Disable FileSystem redirection on Windows</title>
        <description>&lt;p&gt;When a 32 bit program runs on a 64 bit operating system the paths
to C:/Windows/System32 automatically get redirected to the 32 bit
version (C:/Windows/SysWow64), if you really do need to access the
contents of System32, you need to disable the file system redirector first.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;ctypes&lt;/span&gt;


&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;DisableFileSystemRedirection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
    &lt;span class=&quot;sd&quot;&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    When a 32 bit program runs on a 64 bit operating system the paths&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    to C:/Windows/System32 automatically get redirected to the 32 bit&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    version (C:/Windows/SysWow64), if you really do need to access the&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    contents of System32, you need to disable the file system redirector first.&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

    &lt;span class=&quot;n&quot;&gt;_disable&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ctypes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;windll&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kernel32&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Wow64DisableWow64FsRedirection&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;_revert&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ctypes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;windll&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kernel32&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Wow64RevertWow64FsRedirection&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;__enter__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;old_value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ctypes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c_long&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;success&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_disable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ctypes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;byref&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;old_value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;__exit__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;traceback&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;success&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_revert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;old_value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;usage:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DisableFileSystemRedirection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
	&lt;span class=&quot;k&quot;&gt;pass&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</description>
        <pubDate>Tue, 09 Jun 2015 16:23:00 +0100</pubDate>
        <link>http://memogarcia.me/python/windows/2015/06/09/disable-filesystem-redirection-windows.html</link>
        <guid isPermaLink="true">http://memogarcia.me/python/windows/2015/06/09/disable-filesystem-redirection-windows.html</guid>
        
        
        <category>python</category>
        
        <category>windows</category>
        
      </item>
    
      <item>
        <title>Snapshots on Windows using VSSAdmin</title>
        <description>&lt;h3 id=&quot;create-a-snapshot-in-windows-from-xp-to-10&quot;&gt;Create a snapshot in windows (from xp to 10)&lt;/h3&gt;

&lt;p&gt;Create a powershell script (vss.ps1)&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot; data-lang=&quot;powershell&quot;&gt;&lt;span class=&quot;k&quot;&gt;param&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;[String]&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$volume&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;$shadow&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;get-wmiobject&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;win32_shadowcopy&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# get static method&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;[WMICLASS]&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;root\cimv2:win32_shadowcopy&amp;quot;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# create a new shadow copy&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$s1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$volume&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;ClientAccessible&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# get shadow ID&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$s2&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gwmi&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Win32_ShadowCopy&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ID&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-eq&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$s1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ShadowID&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;nv&quot;&gt;$d&lt;/span&gt;  &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$s2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DeviceObject&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;\&amp;quot;&lt;/span&gt;

&lt;span class=&quot;c&quot;&gt;# create a symlink for the shadow path&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mklink&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$volume&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shadowcopy&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;$d&amp;quot;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;shadow id:&amp;quot;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$s2&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;helper for suprocess&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;create_subprocess&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;sd&quot;&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    Create a new subprocess in the OS&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    :param cmd: command to execute in the subprocess&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    :return: the output and errors of the subprocess&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;process&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;subprocess&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Popen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                               &lt;span class=&quot;n&quot;&gt;stdin&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subprocess&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;PIPE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                               &lt;span class=&quot;n&quot;&gt;stdout&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subprocess&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;PIPE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                               &lt;span class=&quot;n&quot;&gt;stderr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subprocess&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;PIPE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;communicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;create a snapshot with python&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;vss_create_shadow_copy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;volume&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;sd&quot;&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    Create a new shadow copy for the specified volume&lt;/span&gt;

&lt;span class=&quot;sd&quot;&gt;    Windows registry path for vss:&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\VSS\Settings&lt;/span&gt;

&lt;span class=&quot;sd&quot;&gt;    MaxShadowCopies&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    Windows is limited in how many shadow copies can create per volume.&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    The default amount of shadow copies is 64, the minimum is 1 and the maxi-&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    mum is 512, if you want to change the default value you need to add/edit&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    the key MaxShadowCopies and set the amount of shadow copies per volume.&lt;/span&gt;

&lt;span class=&quot;sd&quot;&gt;    MinDiffAreaFileSize&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    The minimum size of the shadow copy storage area is a per-computer setting&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    that can be specified by using the MinDiffAreaFileSize registry value.&lt;/span&gt;

&lt;span class=&quot;sd&quot;&gt;    If the MinDiffAreaFileSize registry value is not set, the minimum size of&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    the shadow copy storage area is 32 MB for volumes that are smaller than&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    500 MB and 320 MB for volumes that are larger than 500 MB.&lt;/span&gt;

&lt;span class=&quot;sd&quot;&gt;    If you have not set a maximum size, there is no limit to the amount&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    of space that can be used.&lt;/span&gt;

&lt;span class=&quot;sd&quot;&gt;    If the MinDiffAreaFileSize registry value does not exist, the backup&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    application can create it under the following registry key:&lt;/span&gt;

&lt;span class=&quot;sd&quot;&gt;    HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\VolSnap&lt;/span&gt;


&lt;span class=&quot;sd&quot;&gt;    Freezer create a shadow copy for each time the client runs it&amp;#39;s been&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    removed after the backup is complete.&lt;/span&gt;

&lt;span class=&quot;sd&quot;&gt;    :param volume: The letter of the windows volume e.g. c:\\&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    :return: shadow_id: XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    :return: shadow_path: shadow copy path&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;shadow_path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;shadow_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DisableFileSystemRedirection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;script&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;vss.ps1&amp;#39;&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;# powershell script&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;create_subprocess&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;powershell.exe&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                        &lt;span class=&quot;s&quot;&gt;&amp;#39;-executionpolicy&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;unrestricted&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                        &lt;span class=&quot;s&quot;&gt;&amp;#39;-command&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                                        &lt;span class=&quot;s&quot;&gt;&amp;#39;-volume&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;volume&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;raise&lt;/span&gt; &lt;span class=&quot;ne&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;[*] Error creating a new shadow copy on {0}&amp;#39;&lt;/span&gt;
                            &lt;span class=&quot;s&quot;&gt;&amp;#39;, error {1}&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;volume&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;line&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;symbolic&amp;#39;&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;shadow_path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;line&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;&amp;gt;&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;__RELPATH&amp;#39;&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;shadow_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;line&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;=&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lower&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;}&amp;#39;&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;shadow_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;shadow_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:]&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;logging&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;[*] Created shadow copy {0}&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
                     &lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shadow_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;shadow_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;shadow_id&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Delete a shadow copy&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;vss_delete_shadow_copy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shadow_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;volume&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;sd&quot;&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    Delete a shadow copy from the volume with the given shadow_id&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    :param shadow_id: XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    :return: bool&lt;/span&gt;
&lt;span class=&quot;sd&quot;&gt;    &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;

    &lt;span class=&quot;k&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;DisableFileSystemRedirection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;():&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;vssadmin&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;delete&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;shadows&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
               &lt;span class=&quot;s&quot;&gt;&amp;#39;/shadow={0}&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shadow_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;/quiet&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;create_subprocess&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cmd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;raise&lt;/span&gt; &lt;span class=&quot;ne&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;[*] Error deleting shadow copy with id {0}&amp;#39;&lt;/span&gt;
                            &lt;span class=&quot;s&quot;&gt;&amp;#39;, error {1}&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shadow_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rmdir&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;volume&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;shadowcopy&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;except&lt;/span&gt; &lt;span class=&quot;ne&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;logging&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Failed to delete shadow copy symlink {0}&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
                          &lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;os&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;volume&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;shadowcopy&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;

        &lt;span class=&quot;n&quot;&gt;logging&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;[*] Deleting shadow copy {0}&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;
                     &lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shadow_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</description>
        <pubDate>Mon, 08 Jun 2015 16:23:00 +0100</pubDate>
        <link>http://memogarcia.me/python/windows/snapshots/powershell/2015/06/08/vssadmin-snapshots.html</link>
        <guid isPermaLink="true">http://memogarcia.me/python/windows/snapshots/powershell/2015/06/08/vssadmin-snapshots.html</guid>
        
        
        <category>python</category>
        
        <category>windows</category>
        
        <category>snapshots</category>
        
        <category>powershell</category>
        
      </item>
    
      <item>
        <title>Python profiling</title>
        <description>&lt;p&gt;Timer decorator&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;time&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;functools&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wraps&lt;/span&gt;


&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;timer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;@wraps&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;fn_timer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kwargs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;start&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kwargs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;finish&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Total time running {0}: {1} seconds&amp;quot;&lt;/span&gt;
               &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;func_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;finish&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fn_timer&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Profiler decorator&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;profiler&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
    &lt;span class=&quot;nd&quot;&gt;@wraps&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;fn_profile&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kwargs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;):&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;hp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hpy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Heap at the beginning of the function&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;heap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;start&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;**&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kwargs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;finish&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Heap at the end of the function&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;heap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Total time running {0}: {1} seconds&amp;quot;&lt;/span&gt;
               &lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;func_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;finish&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;start&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;++++++++++++++++++++++++++++++++++++++++++++++&amp;#39;&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;print&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fn_profile&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Unix implementation&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;time&lt;/span&gt; -p file.py&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Cprofile module&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;python -m cProfile -s cumulative file.py&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Line profiler&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;pip install line_profiler
&lt;span class=&quot;c&quot;&gt;# no need to import anything, just add&lt;/span&gt;
@profile

kernprof -l -v file.py&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Memory profiler&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;pip install memory_profiler
pip install psutil
@profile

python -m memory_profiler file.py&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Grupy&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;pip install guppy
from guppy import hpy
&lt;span class=&quot;nv&quot;&gt;hp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; hpy&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
print &lt;span class=&quot;s2&quot;&gt;&amp;quot;Heap at the beginning of the function\n&amp;quot;&lt;/span&gt;, hp.heap&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;# do stuff&lt;/span&gt;
print &lt;span class=&quot;s2&quot;&gt;&amp;quot;Heap at the end of the function\n&amp;quot;&lt;/span&gt;, hp.heap&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt;

python file.py&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</description>
        <pubDate>Mon, 08 Jun 2015 16:23:00 +0100</pubDate>
        <link>http://memogarcia.me/python/profiling/debug/2015/06/08/python-profiling.html</link>
        <guid isPermaLink="true">http://memogarcia.me/python/profiling/debug/2015/06/08/python-profiling.html</guid>
        
        
        <category>python</category>
        
        <category>profiling</category>
        
        <category>debug</category>
        
      </item>
    
      <item>
        <title>Install elasticsearch</title>
        <description>&lt;p&gt;Install OpenJDK (or java)&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;sudo apt-get install openjdk-7-jre&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Download elasticsearch from:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;https://www.elastic.co/downloads/elasticsearch&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Install .deb file&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;sudo dpkg -i elasticsearch.deb&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Start elasticsearch&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;sudo /etc/init.d/elasticsearch start&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</description>
        <pubDate>Mon, 08 Jun 2015 11:45:00 +0100</pubDate>
        <link>http://memogarcia.me/elasticsearch/2015/06/08/elasticsearch.html</link>
        <guid isPermaLink="true">http://memogarcia.me/elasticsearch/2015/06/08/elasticsearch.html</guid>
        
        
        <category>elasticsearch</category>
        
      </item>
    
  </channel>
</rss>
